var tournamatorApp=angular.module("app",["ngRoute","TournamentControllers","TournamentsService"]);tournamatorApp.config(["$routeProvider",function(a){a.when("/tournaments",{templateUrl:"./partials/tournaments-list.html",controller:"tournamentListController"}).when("/tournaments/create",{templateUrl:"./partials/tournaments-create.html",controller:"tournamentCreateController"}).when("/tournaments/edit/:tournamentId",{templateUrl:"./partials/tournaments-create.html",controller:"tournamentEditController"}).otherwise({redirectTo:"/tournaments"})}]),angular.module("PlayersControllers",[]).controller("playersController",["$scope","$q","Players",function(a,b,c){a.getPlayers=function(){c.get().success(function(b){a.players=b})}}]),angular.module("TournamentControllers",[]).controller("tournamentListController",["$scope","$location","$routeParams","Tournaments",function(a,b,c,d){d.getAll().success(function(b){a.tournaments=b})}]).controller("tournamentEditController",["$scope","$location","$routeParams","Tournaments",function(a,b,c,d){var e=c.tournamentId;d.getTournament(e).success(function(b){a.tournament=b}),a.save=function(a){d.updateTournament(e,a).success(function(){b.path("#/tournaments")})},a.cancel=function(){b.path("#/tournaments")}}]).controller("tournamentCreateController",["$scope","$location","$routeParams","Tournaments",function(a,b,c,d){a.save=function(a){d.create(a).success(function(){b.path("#/tournaments")})},a.cancel=function(){b.path("#/tournaments")}}]),angular.module("PlayersService",[]).factory("Players",["$http",function(a){return{get:function(){return a.get("api/players")},create:function(b){return a.post("api/players",b)},"delete":function(b){return a.delete("api/players/"+b)}}}]),angular.module("TournamentsService",[]).factory("Tournaments",["$http",function(a){return{getAll:function(){return a.get("api/tournaments")},getTournament:function(b){return a.get("api/tournaments/"+b)},updateTournament:function(b,c){return a.put("api/tournaments/"+b,c)},create:function(b){return a.post("api/tournaments",b)}}}]);